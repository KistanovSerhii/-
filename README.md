# ОбменУтмМастер

# Контекст:
* 1С:Предприятие 8.3 (8.3.20.1674)
* 1С:Управление торговлей, редакция 11 (11.4.5.71)
* Внешняя обработка, наименование: **ОбменУтмМастер**, синоним: **Обмен утм мастер**

# Краткое описание:
***Внешняя обработка для 1С:УТ, позволяет загружать данные МАСТЕР УТМ (на основании выгрузки xml из мастер УТМ)***


# Задача «ITTF_67
[Ref](http://192.168.168.104/#Task/view/6241a224e97d9f740)
# Описание задачи:
***Текущая проблемма в том что, алгоритм вырезающий год реализован не корректно, а именно не учитывает год после 2000***
***когда год менее 2000 (1718, 1818, 1978, 1999) тогда он вырезает 4 символа, но более 2000 - вырезает только два последних символа***

При загрузке новой номенклатуры из системы ЕГАИС в УТ должно создаваться два объекта в УТ:
A. Карточка в справочнике - номенклатура
B. Карточка в справочнике - Алкоголь, доп. сведения
В наименовании загружаемой продукции есть обязательная часть наименования – год урожая.
Год урожая состоит из четырех символов (арабские цифры – 0123456789).
Год урожая не может быть указан в виде двух, трех, пяти и т.д. символов - только 4 символа.

# Необходимо:
Заполнять поле «Год урожая» в карточке справочника «Алкоголь, доп. сведения» согласно года урожая указанного в наименовании загружаемой из ЕГАИС в УТ номенклатуры (4 символа).
В момент загрузки новой номенклатуры из системы ЕГАИС в УТ необходимо установить правило:

если поле «Год урожая» в карточке справочника «Алкоголь, доп. сведения» не может быть заполнено (его нет или оно не равно 4м символам)
тогда карточка в справочнике «Номенклатура» не создается.

Правило из пункта «2» (если не может быть заполнено) должно распространяться на следующие поля в карточке справочника «Алкоголь, доп. сведения»:
вид бутылки, акциз, тара, тип алкогольной лицензии, крепость, год урожая.
